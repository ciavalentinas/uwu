<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
            color: #6a5acd; /* Soft pastel blue */
        }
        .categories {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .category {
            flex: 1 1 45%;
            margin: 10px;
            padding: 15px;
            background-color: #e0bbd4; /* Pastel lavender */
            border-radius: 5px;
        }
        .category h3 {
            color: #ffafcc; /* Soft pastel pink */
        }
        .item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            background-color: #f5f5f5; /* Light pastel gray */
            padding: 10px;
            border-radius: 5px;
        }
        .item-name {
            flex: 2;
            color: #333;
        }
        .item-price {
            flex: 1;
            text-align: right;
            padding-right: 10px;
            color: #a3c2c2; /* Mint green */
        }
        .item-quantity {
            display: flex;
            align-items: center;
        }
        .item-quantity button {
            padding: 5px 10px;
            background-color: #f6a5c0; /* Soft pastel pink */
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .item-quantity button:hover {
            background-color: #f77f9d; /* Slightly darker pastel pink */
        }
        .item-quantity input {
            width: 50px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 0 5px;
            padding: 5px;
            color: #333;
        }
        .summary {
            margin-top: 20px;
        }
        .total {
            font-size: 1.5em;
            text-align: right;
            margin-top: 10px;
            color: #6a5acd; /* Soft pastel blue */
        }
        .clear-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #f7c6c7; /* Soft pastel peach */
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 20px;
        }
        .clear-btn:hover {
            background-color: #f6a5a9; /* Slightly darker pastel peach */
        }
        @media (max-width: 600px) {
            .category {
                flex: 1 1 100%;
            }
            .item-quantity input {
                width: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Order Calculator</h2>
        <div class="categories">
            <div class="category">
                <h3>Karšti patiekalai</h3>
                <div id="karstipatiekalai"></div>
            </div>
            <div class="category">
                <h3>Alkoholis</h3>
                <div id="alkoholis"></div>
            </div>
        </div>
        <div class="summary">
            <h3>Order Summary</h3>
            <ul id="summary-list">
                <!-- Selected items will be listed here -->
            </ul>
            <div class="total">
                Total: <span id="total-price">0$</span>
            </div>
            <button class="clear-btn" onclick="clearOrder()">Clear Order</button>
        </div>
    </div>

    <script>
        const itemsData = {
            'karstipatiekalai': [
                { name: 'Menkė tešloje', price: 12 },
                { name: 'Lašišos kepsnys', price: 12 },
                { name: 'Vištienos kepsnys', price: 12 },
                { name: 'Starkio kepsnys', price: 12 },
                { name: 'Cepelinai', price: 12 },
                { name: 'Vedarai', price: 12 },
                { name: 'Kūgelis', price: 12 },
                { name: 'Balandėliai', price: 12 },
                { name: 'Šašlykai', price: 12 },
                { name: 'Šonkauliai', price: 12 },
                { name: 'Traškios krevetės', price: 12 },
                { name: 'Suši', price: 13 },
                { name: 'Koldūnai', price: 10 },
                { name: 'Čeburėkai', price: 10 },
            ],
            'alkoholis': [
                { name: 'Degtinė 100ml', price: 3 },
                { name: 'Alus', price: 5 },
                { name: 'Degtinė', price: 5 },
                { name: 'Vynas', price: 5 },
                { name: 'Draugų viskis', price: 8 },
                { name: 'Šampanas', price: 7 },
            ]
        };

        const renderItems = (category, containerId) => {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            itemsData[category].forEach((item, index) => {
                const itemElement = document.createElement('div');
                itemElement.classList.add('item');
                itemElement.innerHTML = `
                    <span class="item-name">${item.name}</span>
                    <span class="item-price">${item.price}$</span>
                    <div class="item-quantity">
                        <button onclick="removeItem('${category}', ${index})">-</button>
                        <input type="number" id="item-quantity-${category}-${index}" value="0" min="0" oninput="updateItem('${category}', ${index}, this.value)">
                        <button onclick="addItem('${category}', ${index})">+</button>
                    </div>
                `;
                container.appendChild(itemElement);
            });
        };

        let order = {};

        const updateSummary = () => {
            const summaryList = document.getElementById('summary-list');
            const totalPriceElement = document.getElementById('total-price');
            summaryList.innerHTML = '';
            let total = 0;

            for (let key in order) {
                // Split the key from the last hyphen to ensure correct category extraction
                const lastHyphenIndex = key.lastIndexOf('-');
                const category = key.substring(0, lastHyphenIndex);
                const index = key.substring(lastHyphenIndex + 1);

                if (itemsData[category]) {
                    const item = itemsData[category][index];
                    const quantity = order[key];
                    const itemTotal = item.price * quantity;
                    total += itemTotal;
                    summaryList.innerHTML += `<li>${item.name} x${quantity} - ${itemTotal}$</li>`;
                } else {
                    console.error(`Category ${category} not found in itemsData.`);
                }
            }
            totalPriceElement.textContent = `${total}$`;
        };

        const addItem = (category, index) => {
            const key = `${category}-${index}`;
            if (!order[key]) {
                order[key] = 0;
            }
            order[key]++;
            document.getElementById(`item-quantity-${category}-${index}`).value = order[key];
            updateSummary();
        };

        const removeItem = (category, index) => {
            const key = `${category}-${index}`;
            if (order[key] > 0) {
                order[key]--;
                document.getElementById(`item-quantity-${category}-${index}`).value = order[key];
                if (order[key] === 0) {
                    delete order[key];
                }
                updateSummary();
            }
        };

        const updateItem = (category, index, value) => {
            const key = `${category}-${index}`;
            const quantity = parseInt(value);
            if (quantity >= 0) {
                order[key] = quantity;
                updateSummary();
            }
        };

        const clearOrder = () => {
            order = {};
            renderItems('karstipatiekalai', 'karstipatiekalai');
            renderItems('alkoholis', 'alkoholis');
            updateSummary();
        };

        // Initial render
        renderItems('karstipatiekalai', 'karstipatiekalai');
        renderItems('alkoholis', 'alkoholis');
    </script>
</body>
</html>
