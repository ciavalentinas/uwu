<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uWu skaičiuotuvas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            /*background-color: #2e2e2e; Dark background */
            background: radial-gradient(circle at -14.3% -17.5%, rgb(245, 168, 168) 4%, rgb(164, 168, 248) 100.2%);
            color: #f0f0f0; /* Light text color */
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #333; /* Darker background for container */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        h2 {
            text-align: center;
            color: #e0aaff; /* Pastel purple */
        }
        .categories {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .category {
            flex: 1 1 45%;
            margin: 10px;
            padding: 15px;
            background-color: #444; /* Slightly lighter dark background */
            border-radius: 5px;
        }
        .item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            background-color: #555; /* Darker background for items */
            border-radius: 4px;
            padding: 10px;
        }
        .item-name {
            flex: 2;
            color: #e0e0e0; /* Light text color */
        }
        .item-price {
            flex: 1;
            text-align: right;
            padding-right: 10px;
            color: #f0e6f6; /* Light pastel purple */
        }
        .item-quantity {
            display: flex;
            align-items: center;
        }
        .item-quantity button {
            padding: 5px 10px;
            background-color: #9e9e9e; /* Grayish pastel button */
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .item-quantity button:hover {
            background-color: #7a7a7a; /* Darker gray for hover */
        }
        .item-quantity input {
            width: 50px;
            text-align: center;
            border: 1px solid #888;
            border-radius: 4px;
            margin: 0 5px;
            padding: 5px;
            background-color: #666; /* Darker input background */
            color: #e0e0e0; /* Light text color for input */
        }
        .summary {
            margin-top: 20px;
        }
        .total {
            font-size: 1.5em;
            text-align: right;
            margin-top: 10px;
            color: #a0e0e0; /* Pastel mint green */
        }
        .clear-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #dc3545;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 20px;
        }
        .clear-btn:hover {
            background-color: #c82333;
        }
        @media (max-width: 600px) {
            .category {
                flex: 1 1 100%;
            }
            .item-quantity input {
                width: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>wUwU skaičiuoktuviukas</h2>
        <input type="text" id="search-input" placeholder="Ieškoti patiekalo..." oninput="filterItems()" style="width: 100%; padding: 10px; margin-bottom: 20px; border-radius: 4px; border: 1px solid #888;">
        <div class="categories">
            <div class="category">
                <h3>Karšti patiekalai</h3>
                <div id="karstipatiekalai"></div>
            </div>
            <div class="category">
                <h3>Sriubos</h3>
                <div id="sriubos"></div>
            </div>
            <div class="category">
                <h3>Picos / Salotos</h3>
                <div id="picos"></div>
            </div>
            <div class="category">
                <h3>Desertai</h3>
                <div id="desertai"></div>
            </div>
            <div class="category">
                <h3>Kita</h3>
                <div id="kita"></div>
            </div>
            <div class="category">
                <h3>Gėrimai</h3>
                <div id="gerimai"></div>
            </div>
            <div class="category">
                <h3>Alkoholis</h3>
                <div id="alkoholis"></div>
            </div>
            <div class="category">
                <h3>Alkoholiniai kokteiliai</h3>
                <div id="kokteiliai"></div>
            </div>
        </div>
        <div class="summary">
            <h3>Užsakymo sąrašas</h3>
            <ul id="summary-list">
                <!-- Selected items will be listed here -->
            </ul>
            <div class="total">
                Iš viso: <span id="total-price">0$</span>
            </div>
            <button class="clear-btn" onclick="clearOrder()">Išvalyti</button>
        </div>
    </div>

    <script>
        const itemsData = {
            'karstipatiekalai': [
                { name: 'Menkė tešloje', price: 12 },
                { name: 'Lašišos kepsnys', price: 12 },
                { name: 'Vištienos kepsnys', price: 12 },
                { name: 'Starkio kepsnys', price: 12 },
                { name: 'Cepelinai', price: 12 },
                { name: 'Vedarai', price: 12 },
                { name: 'Kūgelis', price: 12 },
                { name: 'Balandėliai', price: 12 },
                { name: 'Šašlykai', price: 12 },
                { name: 'Šonkauliai', price: 12 },
                { name: 'Traškios krevetės', price: 12 },
                { name: 'Suši', price: 13 },
                { name: 'Koldūnai', price: 10 },
                { name: 'Čeburėkai', price: 10 },
            ],
            'sriubos': [
                { name: 'Šaltibarščiai', price: 10 },
                { name: 'Kopūstų sriuba', price: 10 },
                { name: 'Trinta moliūgų sriuba', price: 10 },
                { name: 'Barščių sriuba', price: 10 },
                { name: 'Čili sriuba', price: 10 },
            ],
            'picos': [
                { name: 'Cezario salotos', price: 10 },
                { name: 'Pica su ananasais ir šonine', price: 20 },
                { name: 'Pica su faršu ir alyvuogėmis', price: 20 },
                { name: 'Pica su kumpiu ir pievagrybiais', price: 20 },
            ],
            'desertai': [
                { name: 'Šokoladinis keksiukas su vyšniomis', price: 10 },
                { name: 'Ledai su vafliu', price: 20 },
                { name: 'Blyneliai su varške', price: 20 },
                { name: 'Spurgų dėžutė 12 vnt.', price: 20 },
                { name: 'Vestuvinis tortas', price: 250 },
                { name: 'Mėlynas tortas', price: 150 },
                { name: 'Rūžavas tortas', price: 150 },
                { name: 'UWU tortas', price: 25 },
                { name: 'UWU sausainiai', price: 10 },
                { name: 'Macaronsai', price: 10 },
            ],
            'kita': [
                { name: 'Deimančiuko rauginti agurkai', price: 15 },
                { name: 'Šampano dovanų dėžutė', price: 150 },
                { name: 'Saldainių ir šampano dovanų dėžutė', price: 150 },
                { name: 'Saldainių ir viskio dovanų dėžutė', price: 150 },
                { name: 'Viskio dovanų dėžutė', price: 150 },
                { name: 'Sezoninė dėžutė', price: 200 },
            ],
            'gerimai': [
                { name: 'Apelsinų sultys', price: 7 },
                { name: 'Multivitaminų sultys', price: 7 },
                { name: 'Gira', price: 4 },
                { name: 'Cola', price: 4 },
                { name: 'Vanduo', price: 3 },
                { name: 'Arbata', price: 3 },
                { name: 'Juoda kava', price: 4 },
                { name: 'Kava su pienu', price: 4 },
            ],
            'alkoholis': [
                { name: 'Degtinė 100ml', price: 3 },
                { name: 'Alus', price: 5 },
                { name: 'Degtinė', price: 5 },
                { name: 'Vynas', price: 5 },
                { name: 'Draugų viskis', price: 8 },
                { name: 'Šampanas', price: 7 },
            ],
            'kokteiliai': [
                { name: 'Mėlynoji lagūna', price: 10 },
                { name: 'Vaivorykštė', price: 10 },
                { name: 'Viskis su kaukole', price: 10 },
                { name: 'Žalioji vesper', price: 8 },
                { name: 'Cosmopolitan', price: 8 },
                { name: 'Mojito', price: 8 },
                { name: 'Mai Tai', price: 8 },
                { name: 'Mint Julep', price: 8 },
                { name: 'Caipirinha', price: 8 },
            ]
        };

        const renderItems = (category, containerId) => {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            itemsData[category].forEach((item, index) => {
                const itemElement = document.createElement('div');
                itemElement.classList.add('item');
                itemElement.innerHTML = `
                    <span class="item-name">${item.name}</span>
                    <span class="item-price">${item.price}$</span>
                    <div class="item-quantity">
                        <button onclick="removeItem('${category}', ${index})">-</button>
                        <input type="number" id="item-quantity-${category}-${index}" value="0" min="0" oninput="updateItem('${category}', ${index}, this.value)">
                        <button onclick="addItem('${category}', ${index})">+</button>
                    </div>
                `;
                container.appendChild(itemElement);
            });
        };

        const filterItems = () => {
    const query = normalizeString(document.getElementById('search-input').value.toLowerCase());
    document.querySelectorAll('.category').forEach(category => {
        let hasVisibleItems = false;

        category.querySelectorAll('.item').forEach(item => {
            const itemName = normalizeString(item.querySelector('.item-name').textContent.toLowerCase());
            if (itemName.includes(query)) {
                item.style.display = '';
                hasVisibleItems = true;
            } else {
                item.style.display = 'none';
            }
        });

        // Hide the category if no items are visible
        category.style.display = hasVisibleItems ? '' : 'none';
    });
};

        const normalizeString = (str) => {
    return str
        .replace(/š/g, 's')
        .replace(/č/g, 'c')
        .replace(/ž/g, 'z')
        .replace(/ę/g, 'e')
        .replace(/ė/g, 'e')
        .replace(/ų/g, 'u')
        .replace(/ū/g, 'u')
        .replace(/Š/g, 's')
        .replace(/Č/g, 'c')
        .replace(/Ž/g, 'z')
        .replace(/Ę/g, 'e')
        .replace(/Ė/g, 'e')
        .replace(/Ų/g, 'u')
        .replace(/Ū/g, 'u');
};
        
        let order = {};

        const updateSummary = () => {
            const summaryList = document.getElementById('summary-list');
            const totalPriceElement = document.getElementById('total-price');
            summaryList.innerHTML = '';
            let total = 0;

            for (let key in order) {
                const lastHyphenIndex = key.lastIndexOf('-');
                const category = key.substring(0, lastHyphenIndex);
                const index = key.substring(lastHyphenIndex + 1);

                if (itemsData[category]) {
                    const item = itemsData[category][index];
                    const quantity = order[key];
                    const itemTotal = item.price * quantity;
                    total += itemTotal;
                    summaryList.innerHTML += `<li>${item.name} x${quantity} - ${itemTotal}$</li>`;
                } else {
                    console.error(`Category ${category} not found in itemsData.`);
                }
            }
            totalPriceElement.textContent = `${total}$`;
        };

        const addItem = (category, index) => {
            const key = `${category}-${index}`;
            if (!order[key]) {
                order[key] = 0;
            }
            order[key]++;
            document.getElementById(`item-quantity-${category}-${index}`).value = order[key];
            updateSummary();
        };

        const removeItem = (category, index) => {
            const key = `${category}-${index}`;
            if (order[key] > 0) {
                order[key]--;
                document.getElementById(`item-quantity-${category}-${index}`).value = order[key];
                if (order[key] === 0) {
                    delete order[key];
                }
                updateSummary();
            }
        };

        const updateItem = (category, index, value) => {
            const key = `${category}-${index}`;
            const quantity = parseInt(value);
            if (quantity >= 0) {
                order[key] = quantity;
                updateSummary();
            }
        };

        const clearOrder = () => {
            order = {};
            renderItems('karstipatiekalai', 'karstipatiekalai');
            renderItems('sriubos', 'sriubos');
            renderItems('picos', 'picos');
            renderItems('desertai', 'desertai');
            renderItems('kita', 'kita');
            renderItems('gerimai', 'gerimai');
            renderItems('alkoholis', 'alkoholis');
            renderItems('kokteiliai', 'kokteiliai');
            updateSummary();
        };

        // Initial render
        renderItems('karstipatiekalai', 'karstipatiekalai');
            renderItems('sriubos', 'sriubos');
            renderItems('picos', 'picos');
            renderItems('desertai', 'desertai');
            renderItems('kita', 'kita');
            renderItems('gerimai', 'gerimai');
            renderItems('alkoholis', 'alkoholis');
            renderItems('kokteiliai', 'kokteiliai');
    </script>
</body>
</html>
